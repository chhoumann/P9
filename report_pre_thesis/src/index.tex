\begin{abstract}
The Mars Science Laboratory's Curiosity rover has been instrumental in studying Mars' geology and potential habitability through its ChemCam instrument, which uses Laser-Induced Breakdown Spectroscopy (LIBS) for elemental quantification.
However, the computational interpretation of LIBS data faces challenges such as multicollinearity and matrix effects, complicating the accurate prediction of elemental compositions.
This study aims to scrutinize the limitations of the existing Multivariate Oxide Composition (MOC) model, used for predicting major oxides in Martian geological samples based on Earth-based calibration data.
We propose ...
Enhancing the MOC model's predictive accuracy could significantly advance the scientific objectives of the Mars Science Laboratory mission by providing more precise insights into Martian geology and habitability.
\end{abstract}

% Acknowledgments
% - Acknowledge any contributions, support, or guidance from individuals, organizations, or institutions.

% MSL: What is the mission? Why?
% ChemCam: How does it contribute to the mission? How?
% -> This leads us to the predictioin of composition of major oxides
% There exists a model for this, but it has some limitations
% We narrow down to limitations that in any way inhibit the precision & accuracy of the model
% // _Any_ improvements to the model will be beneficial to the mission
% We want to investigate these limitations and propose improvements

\section{Introduction}
% MSL: What is the mission? Why?
In November 2011, NASA launched the Mars Science Laboratory (MSL) mission, which landed the Curiosity rover on Mars in August 2012 inside Gale Crater. Its purpose is to investigate the Martian climate and geology, as well as the potential for life on Mars.
Early in the mission, Curiosity found chemical and mineral evidence that Mars once had the conditions necessary to support life.\cite{chemcam_nasa_website}

The rover itself is about the size of a car.
It has various instruments and cameras, including a laser instrument called ChemCam (Chemistry and Camera), which is used to analyze the chemical composition of rocks and soil on Mars.
The primary interest are rocks that either formed in water or show indications of organic materials.\cite{chemcam_nasa_website}

% ChemCam: How does it contribute to the mission? How?
ChemCam is a remote-sensing laser instrument developed by NASA in collaboration with the French national space agency (CNES).
The instrument is used to gather Laser-Induced Breakdown Spectroscopy (LIBS) data from geological samples on Mars. The data itself consists of a series of spectral readings, each forming a spectrum. These spectra represent the emitted light from a plasma created when the laser interacts with the target sample. Captured over a range of wavelengths, each spectrum is composed of various emission lines. Each emission line is associated with a specific element, and its intensity reflects the concentration of that element in the sample. Consequently, the collection of spectra serves as a complex, multi-dimensional fingerprint of the elemental composition of the examined geological formations.
This data is then used to determine the elemental composition of these samples.\cite{cleggRecalibrationMarsScience2017}

% These are computationally challenging problems because...
% Multicollinearity: In computational terms, multicollinearity represents a challenge for feature selection and model interpretability. Traditional regression algorithms struggle when variables (features) are highly correlated because they cannot easily isolate the contribution of each variable to the prediction (output). This hampers the model's ability to generalize well to new data and makes it difficult to understand which features are most important for the prediction task. Advanced techniques like ridge regression or feature extraction methods may be required to handle this.
% 
% Matrix Effects: These constitute a challenge in data preprocessing and normalization. In machine learning terms, matrix effects introduce a form of 'class imbalance' or 'data skew.' The model can be misled by the dominant features (in this case, spectral lines influenced by matrix effects) and fail to generalize well. Dealing with this requires sophisticated preprocessing techniques or specialized algorithms capable of handling imbalanced or skewed data.

However, the interpretation of LIBS data poses significant computational challenges.
First, a high degree of multicollinearity exists within the spectral data, rendering traditional linear analysis methods less effective.
The multicollinearity arises due to the correlation among different spectral channels, influenced both by the multi-line emission characteristics of individual elements and by geochemical correlations between elements.\cite{andersonImprovedAccuracyQuantitative2017}

Secondly, the complexity of LIBS spectra is increased by multiple interacting physical processes.
These interactions, collectively referred to as 'matrix effects,' introduce variability into the emission line intensities independent of the elements' concentrations.
Such variability complicates the direct interpretation of the spectra and poses challenges for computational models aiming for accurate elemental quantification.\cite{andersonImprovedAccuracyQuantitative2017}

The ChemCam team uses a model called the Multivariate Oxide Composition (MOC) model to predict the composition of major oxides in geological samples. As part of their preprocessing, they use various techniques to remove noise and outliers from the data.\cite{cleggRecalibrationMarsScience2017}

% -> This leads us to the predictioin of composition of major oxides
% There exists a model for this, but it has some limitations
The MOC model itself uses a series of submodels, each of which predicts the concentration of a single oxide. It combines the output of these with regression models based on ICA scores to predict the composition of major oxides in geological samples.
The model is trained on a calibration dataset consisting of LIBS data from 408 terrestrial rock samples, which were created in a laboratory to simulate the conditions of the Martian surface.\cite{cleggRecalibrationMarsScience2017}

% We narrow down to limitations that in any way inhibit the precision & accuracy of the model
% // _Any_ improvements to the model will be beneficial to the mission
% We want to investigate these limitations and propose improvements
Improving the predictions of the chemical compositions of LIBS data has the potential to advancing the Mars Science Laboratory's scientific objectives.
Enhanced accuracy in elemental quantification can give us more detailed information about Mars' geology and habitability, thereby amplifying the mission's overall scientific yield. 

Consequently, there is a need to not only identify and examine the existing model's limitations but also to understand precisely why improvements would be beneficial and how they can be effectively implemented.

As such, we aim to identify potential limitations and areas of improvement in the Multivariate Oxide Composition model's predictive accuracy and robustness in predicting the composition of major oxides in Martian geological samples using Earth-based calibration data.

\section{Related work}
% \subsection{comment-start}
% , enhancing the model's precision and robustness is important. Any improvements to these metrics will be beneficial to the mission.
% The MOC model, as it stands, may not provide optimal accuracy in predicting the composition of major oxides.
% Furthermore, its robustness—its consistent performance across diverse data scenarios, especially in the presence of noise or outliers—might be questionable.

% The Mars Science Laboratory  mission, through the Curiosity rover and its ChemCam instrument, relies heavily on the Multivariate Oxide Composition model to determine the elemental composition of Martian geological samples. Given the mission's pivotal aim to investigate Martian geology and the potential for life on Mars, the precision and robustness of this model are paramount. However, the current MOC model, trained on Earth-based rock samples, may not achieve optimal accuracy in predicting the composition of major oxides on Mars. Furthermore, its resilience to consistently perform across varied data scenarios, particularly in the face of spectral interference, remains uncertain.

% This raises a critical question: How can the MOC model be refined to enhance its accuracy and robustness, ensuring more reliable predictions that can better support the objectives of the MSL mission?
% \subsection{comment-end}

\section{Definition}
Given a set $E$ of elements detectable using LIBS, and considering \(\mathbb{P}(E)\) as the power set of $E$ which represents all possible combinations of these elements, we define \(K \subseteq \mathbb{P}(E) \) as the set of compositions of these elements that can be subjected to LIBS.

Let $S$ be the set of all possible spectra, where each spectrum is a multidimensional vector in $\mathbb{R}^n$ where $n$ being the number of wavelengths captured by the LIBS spectrometer. For any spectrum $s_i$, it holds that \(s_i \in S \).

\begin{definition}
    A LIBS data set $L$ for Martian geological samples is a subset of \(K' \times S \) where \(K' \subseteq K \), defined as \(L = \{(k_1, s_1 , (k_2 , s_2)) \dots (k_m , s_m) \} \). Each pair $(k_i , s_i)$ in $L$ represents the spectral data for an individual Martian geological sample, where $k_i$ is the sample's composition and $s_i$ is its emitted spectrum produced via laser-induced breakdown.
\end{definition}

\begin{definition}
    A Calibration Set $C$ is a subset of \(K' \times S \) where \(K' \subseteq K \), defined as \(C = \{(k_1, s_1 , (k_2 , s_2)) \dots (k_n , s_n)\} \). Each pair $(k_i , s_i)$ in $C$ represents a known composition \(k_i \in K' \) from Earth's rock standards and its corresponding emitted spectrum \(s_i \in S \). Additionally, denoting the set of compositions associated with $L$ as $K_L$, then \( \forall(k,s) \in C, k \notin K_L \).
\end{definition}

\begin{definition}
    Let \(h: S \rightarrow \mathbb{R}^m \) be a hypothesis function, where for each spectrum \(s \in S\), $h(s)$ produces a prediction \(\mathbf{\hat{y}} \in \mathbb{R}^m \). Here, $m$ denotes the dimensions of the composition predictions, and the structure and content of $\mathbf{\hat{y}}$ are analogous to a composition $k \in K$. The function $h$ is determined by the model's learned parameters and the hyperparameters of the algorithm.
 %We should probably introduce these models at the end of introduction.
\end{definition}

%recreate and train the MOC model using the calibration set $C$ to predict a set of major oxide compositions $O$ such that the predictions match the true compositions $\mathbf{y}$ as closely as possible.
%In addition, systematically identify areas where the model's predictions $\mathbf{\hat{y}}$ diverge from expected values $\mathbf{y}$ and propose potential improvements or modifications to address these identified areas.

% -- Introduction
% Introduce the problem and why it is interesting. The problem is the accurate and robustness of the MOC model.
% Our approach to the problem is to investigate the limitations of the current model and propose improvements.
% -- Methodology
% We'll do that by analyzing the data used to train the model and the model itself.
% In particular, we focus on aspects that may inhibit the robustness and accuracy of the model. That is, how accurately it predicts the composition of major oxides, as well as how well it generalizes to new data.
% This is done by first re-creating the current model and then reproducing the results of the original papers.
% After this, we'll investigate the limitations of the model and propose improvements.
% -- Results
% 
% -- Discussion
% 


\section{Background}
% Background / Preliminaries (what you need to know in order to understand the story)

% What is the purpose of the MSL mission? What is the purpose of the ChemCam instrument?

The NASA ChemCam (Chemistry and Camera) is an advanced instrument developed by NASA in collaboration with the French national space agency (CNES).
It is a remote-sensing laser instrument designed to analyze the chemical composition of rocks and soil on Mars\cite{chemcam_nasa_website}.
The instrument is mounted on the Curiosity rover and is used to collect data in the Gale Crater on Mars\cite{curiosity_nasa_website}.
It leverages the ChemCam-LIBS model, which uses machine learning models to analyze the spectral data obtained from ChemCam.\cite{andersonImprovedAccuracyQuantitative2017}\cite{cleggRecalibrationMarsScience2017}

The use of LIBS (Laser-Induced Breakdown Spectroscopy) technology in planetary exploration has proven to be effective in analyzing soil and rock samples \cite{knight_characterization_2000}.

A laser pulses to ablate and remove any surface contaminants, such as dust and weathering layers, to expose the underlying material.
The laser generates a plasma plume from the now-exposed sample material.
This plasma plume emits light, which, when collected and analyzed, reveals the elemental composition of the sample by correlating the intensity of emitted light with specific wavelengths in a LIBS spectrum.
The LIBS technique enables remote analyses of materials without the need for sample preparation.
It allows for rapid analyses because of the immediate spectrum collection from the subsequent plasma, while maintaining a high spatial resolution due to its small observation footprints.
This high resolution is essential for pinpointing and investigating small features. \cite{wiens_chemcam_2012}

In 2013, \citeauthor{wiens_pre-flight_2013} published a paper describing the pre-flight calibration and initial data processing for the ChemCam LIBS instrument.
This paper introduces methods for preprocessing spectra samples and a regression model based on Partial Least Squares (PLS2) used to predict the composition of geological samples on Mars.
The model was trained on a dataset of 69 rock samples from Earth, which were created in a laboratory to simulate the conditions of the Martian surface.
This dataset is often referred to as the calibration dataset.

Two key conclusions were drawn from this paper:
\begin{enumerate}
    \item A larger dataset is needed to improve the accuracy of the model.
    \item The PLS2 model is not ideal for this type of data, and an argument is made for using PLS1 instead because of its ability to optimize each element separately, which in can improve the accuracy although it suffers slower run times.
\end{enumerate}

Based on this work, \citeauthor{cleggRecalibrationMarsScience2017} published a paper in 2017 describing a new approach to the ChemCam LIBS calibration model.
This paper introduces a new model based on PLS1 with a sub-model approach (PLS-SM) and Independent Component Analysis (ICA).
In addition, a much larger calibration dataset was used, consisting of 408 samples.
Using this, the team was able to improve the predictions by employing a \textit{submodel} PLS approach in tandem with ICA.
This model is referred to as the Multivariate Oxide Composition (MOC) model.
The MOC model is currently used by the ChemCam team to analyze the LIBS data collected by the Curiosity rover.

\subsection{Domain Background}
Describes the non-CS part of the domain/terminology that is necessary to understand the problem.
This includes relevant physics and ChemCam terminology.

Detailed explanation of the LIBS setup, including equipment, configurations, and settings.
Explain any variables, controls, and calibrations involved in the setup.

\subsection{CS Background for ChemCam calibration}
Current use of CS and statistical methods including PLS1 and ICA.
Description of how these are used in the current model.

\section{State of the Art}
\textit{We likely are not keeping this section, as we are not proposing a new method. We are just investigating the current method.}
Current leading approaches and methods in chemometric data analysis and prediction.
Brief description of the key technologies or techniques.

\textit{The following is a suggestion for a new section.}
A review and analysis of the current model used by NASA, as reported in a particular paper.
Briefly address its capabilities and limitations.

\section{Methodology}
Method / Our Contribution (Detailed main part of the story, or how the analysis was done)

\textit{Recreate the current model. Reproduce the results of the original papers. Investigate the limitations of the model and propose improvements.}

\subsection{Data Analysis}
Description of the samples used and their relevance.
Explain how and why these samples were chosen.

\section{Results}
Analysis / Experimental / Empirical Evaluation (the analysis, comparing our method to SoA or a baseline, ablation study)
\begin{itemize}
    \item System used (for repeatability)
    \item Datasets / people used
    \item Metrics used
    \item Results: a list of potential improvements or alterations that would enhance the model's predictive accuracy and robustness, as well as explanations as to why these improvements would be beneficial.
\end{itemize}

\section{Discussion}

\section{Conclusion}
Conclusion (the story again, in short, emphasizing the results)

Summary of the main findings of the report.
Reiteration of the significance of the established benchmarks to the subsequent part of the project.

\section{Recommendations for Future Work}
Suggestions for potential improvements or modifications in the methodology.
Identification of any additional benchmarks that may be relevant for future studies.

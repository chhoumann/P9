\section{Data Overview}\label{sec:data_overview}
For calibrating the ChemCam instrument, the ChemCam team has collected a large amount of data from a variety of samples on Earth\cite{wiensPreFlight3}.
This data is stored in a directory structure as shown in Figure~\ref{fig:directory_structure}.
As illustrated in the figure, the datasets for training the ICA and PLS models are located in the \texttt{ica} and \texttt{pls} directories, respectively, with several datasets common to both.
For each sample, the data is split into five datasets, one for each location on the sample that was shot at by the laser.
Each dataset contains CCS data stored in a \texttt{.csv} file.

\begin{figure}[ht]
    \scalebox{0.8}{
    \begin{forest}
        for tree={
            font=\ttfamily,
            grow'=0,
            child anchor=west,
            parent anchor=south,
            anchor=west,
            calign=first,
            inner xsep=7pt,
            edge path={
                \noexpand\path [draw, \forestoption{edge}]
                (!u.south west) +(7.5pt,0) |- (.child anchor) pic {folder} \forestoption{edge label};
            },
            % style for your file node
            file/.style={edge path={\noexpand\path [draw, \forestoption{edge}]
                (!u.south west) +(7.5pt,0) |- (.child anchor) \forestoption{edge label};},
                inner xsep=2pt,font=\small\ttfamily
                            },
            before typesetting nodes={
                if n=1
                {insert before={[,phantom]}}
                {}
            },
            fit=band,
            before computing xy={l=15pt},
            }
        [samples
            [0.1tio2
                [2015\_03\_27\_132008\_ccs.csv, file]
                [2015\_03\_27\_132210\_ccs.csv, file]
                [2015\_03\_27\_132331\_ccs.csv, file]
                [2015\_03\_27\_132453\_ccs.csv, file]
                [2015\_03\_27\_132624\_ccs.csv, file]
            ]
            [cadillac]
            [$\vdots$, file]
            [wc3]
        ]
    \end{forest}
    }
\caption{Directory structure of the data.}
\label{fig:directory_structure}
\end{figure}

Each \texttt{.csv} file represents a location on the sample that was shot at by the laser.
They contain the following columns:

\begin{itemize}
    \item \texttt{wave}: The wavelength of the spectral data measured in nanometers (nm).
    \item \texttt{shot1}, \texttt{shot2}, ..., \texttt{shot50}: The intensity measurement for each wavelength at the corresponding shot measured in photons/pulse/mmÂ²/sr/nm.
    \item \texttt{median}: The median of the intensity measurements for each wavelength.
    \item \texttt{mean}: The mean of the intensity measurements for each wavelength.
\end{itemize}

\begin{table*}[!b]
\centering
\begin{tabular}{rrrrrrrr}
\toprule
     wave &         shot1 &         shot2 &  $\cdots$ &        shot49 &       shot50  & median        & mean          \\
\midrule
241.66901 & 2.820443e+11  & 1.3349191e+16 & $\cdots$  & 9.3383243e+15 & 9.4850282e+15 & 9.6073916e+15 & 1.0412862e+16 \\
241.72301 & 3.279678e+11  & 3.9035181e+12 & $\cdots$  & 3.5982364e+12 & 4.7538387e+12 & 2.9107688e+12 & 3.2675139e+12 \\
$\vdots$  & $\vdots$      & $\vdots$      & $\cdots$  & $\vdots$      & $\vdots$      & $\vdots$      & $\vdots$      \\
905.38062 & 9.2772428e+09 & 1.1861747e+10 & $\cdots$  & 3.4135089e+09 & 2.8770024e+09 & 6.7861770e+09 & 1.7767384e+09 \\
905.57349 & 1.9527751e+10 & 2.4984806e+10 & $\cdots$  & 7.1648592e+09 & 6.0560959e+09 & 1.4299386e+10 & 2.7702141e+09 \\
\bottomrule
\end{tabular}
\caption{Example of CCS data for the first sample in the \texttt{0.1tio2} directory.}
\label{tab:ccs_data_example}
\end{table*}

The rows in the location dataset represent which wavelength the intensity measurements were taken at.
There are $6144$ rows and $N$ columns, where $N$ is the number of shots taken for a given sample.
While $N=50$ for each sample in the calibration data, the number of shots taken on Mars for each sample can vary but is typically between $15$ and $50$.

Table \ref{tab:ccs_data_example} shows an example of the CCS data for the first location for the \texttt{0.1tio2} sample.

In addition to these datasets, there is also a \\ \texttt{ccam\_calibration\_compositions.csv} file that contains ground truth data for each major oxide in each sample.
There are a total of eight major oxides: \ce{SiO2}, \ce{TiO2}, \ce{Al2O3}, \ce{FeOT}, \ce{MnO}, \ce{MgO}, \ce{CaO}, \ce{Na2O}, and \ce{K2O}.
For each of these oxides, the data specifies their respective concentrations in each sample, expressed as a percentage of the total composition.
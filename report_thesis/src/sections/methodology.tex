\section{Methodology}\label{sec:methodology}
\textit{We will write an introduction to the methodology section here, as well as add more subsections in the future. Below is the first subsection describing the data normalization process and the reasons for choosing to only do Norm 3. Please let us know if the explanation and mathematical notation is clear.}

\subsection{Evaluation Metrics}
To evaluate the performance of our models in predicting major oxide compositions from \gls{libs} data, we will use two key metrics: \gls{rmse} and standard deviation of prediction errors.

\gls{rmse} will be used as a measure of accuracy, quantifying the difference between the predicted and actual values of the major oxides in the samples. It is defined by the equation:

\begin{equation}
    RMSE = \sqrt{\frac{1}{n} \sum_{i=1}^{n} (y_i - \hat{y}_i)^2},
\end{equation}

where $y_i$ represents the actual values, $\hat{y}_i$ the predicted values, and $n$ the number of observations. A lower RMSE indicates better accuracy.

To assess the robustness of our models, we will consider the standard deviation of prediction errors across each oxide and test instance. This metric measures the variability of the prediction errors and provides insight into the consistency of the model's performance. It is defined as:

\begin{equation}
    \sigma_{error} = \sqrt{\frac{1}{n-1} \sum_{i=1}^{n} (e_i - \bar{e})^2},
\end{equation}

where $e_i = y_i - \hat{y}_i$ and $\bar{e}$ is the mean error. A lower standard deviation indicates better robustness.

By using these two metrics, we aim to comprehensively evaluate the performance of our models in terms of both accuracy and robustness, which are crucial for the reliable prediction of major oxide compositions from \gls{libs} data.

\subsection{Data Normalization}
For data normalization, \citet{cleggRecalibrationMarsScience2017} proposes two different normalization methods, Norm 1 and Norm 3.
Norm 1 normalizes the data across the entire spectrum, while Norm 3 normalizes the data across individual spectrometers' wavelength ranges.

Formally, Norm 1 is defined as:

\begin{equation}
	\tilde{X}_{i,j} = \frac{X_{i,j}}{\sum_{j=1}^{N} X_{i,j}},
\end{equation}

where,

\begin{itemize}
	\item $\tilde{X}_{i,j}$ is the normalized wavelength intensity for the $i$-th sample in the $j$-th channel.
	\item $X_{i,j}$ is the original wavelength intensity for the $i$-th sample in the $j$-th channel.
	\item $N$ is the number of channels in each spectrometer (for the \gls{chemcam} instrument, $N = 2048$).
\end{itemize}

Norm 3 is defined as:

\begin{equation}
	\tilde{X}_{j,k}^{(i)} = \frac{X_{j,k}}{\sum_{k'=N(i-1)+1}^{N \cdot i} X_{j,k'}},
\end{equation}

where:

\begin{itemize}
	\item $\tilde{X}_{j,k}^{(i)}$ is the normalized wavelength intensity for the $j$-th sample in the $k$-th channel on the $i$-th spectrometer.
	\item $X_{j,k}$ is the original wavelength intensity for the $j$-th sample in the $k$-th channel on the $i$-th spectrometer.
	\item $N$ is the number of channels in each spectrometer (for the \gls{chemcam} instrument, $N = 2048$)
	\item $i$ is the index of the spectrometer (for the \gls{chemcam} instrument, $i \in \{1, 2, 3\}$)
	\item $k'$ indexes over the channels of the $i$-th spectrometer, ensuring the $N$ channels of each spectrometer are normalized separately.
\end{itemize}

Following the approach taken by the SuperCam team, we opt to always normalize across individual spectrometers' wavelength ranges (Norm 3), rather than normalizing across the entire spectrum (Norm 1).
This decision is guided by the approach taken by the SuperCam team, where they do not normalize across the entire spectrum, but rather across individual spectrometers' wavelength ranges~\cite{andersonPostlandingMajorElement2022}.